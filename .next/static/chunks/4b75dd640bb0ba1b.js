(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7818,e=>{e.v(JSON.parse('{"name":"pusher","description":"Node.js client to interact with the Pusher Channels REST API","version":"5.2.0","author":"Pusher <support@pusher.com>","contributors":[{"name":"fabrik42","email":"fabrik42@gmail.com"},{"name":"Jaewoong Kim","email":"jwoongkim@gmail.com"},{"name":"Phil Leggetter","email":"phil@leggetter.co.uk"},{"name":"Paweł Ledwoń","email":"me@ludvik.pl"}],"dependencies":{"abort-controller":"^3.0.0","is-base64":"^1.1.0","node-fetch":"^2.6.1","tweetnacl":"^1.0.0","tweetnacl-util":"^0.15.0","@types/node-fetch":"^2.5.7"},"devDependencies":{"@types/node":"^14.14.6","eslint":"^7.11.0","expect.js":"=0.3.1","express":"^4.17.1","https-proxy-agent":"^5.0.0","mocha":"^7.2.0","nock":"^12.0.3","prettier":"2.1.2","sinon":"=1.10.2","webpack":"^4.42.1","webpack-cli":"^3.3.11"},"scripts":{"local-test":"npx mocha \'tests/integration/**/*.js\'","test":"npx mocha \'tests/{integration,remote}/**/*.js\'","lint":"npx eslint . && npx prettier --check .","format":"npx prettier --write ."},"keywords":["pusher","websockets","realtime"],"license":"MIT","repository":"git://github.com/pusher/pusher-http-node","main":"lib/pusher","typings":"index.d.ts","engines":{"node":">= 4.0.0"}}'))},18566,(e,t,s)=>{t.exports=e.r(76562)},78193,e=>{"use strict";e.s(["default",()=>l]);var t=e.i(43476),s=e.i(71645),n=e.i(18566),a=e.i(7679);function l(){var e,l,i,r,c,o,d;let u=(0,n.useParams)(),[p,m]=(0,s.useState)(null),[h,x]=(0,s.useState)([]),[j,g]=(0,s.useState)(null),[v,f]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=null==u?void 0:u.code;if(!e)return;(async()=>{let t=await fetch("/api/events?code=".concat(encodeURIComponent(e)));if(!t.ok)return;let s=await t.json();m(s.id),x(await fetch("/api/events/".concat(s.id,"/participants")).then(e=>e.json()))})();let t=()=>{};return(async()=>{let s=await fetch("/api/events?code=".concat(encodeURIComponent(e))).then(e=>e.json());t=(0,a.subscribe)(s.id,e=>{("participants_updated"===e.type||"flags_updated"===e.type)&&fetch("/api/events/".concat(s.id,"/participants")).then(e=>e.json()).then(x)})})(),()=>t()},[null==u?void 0:u.code]),(0,s.useEffect)(()=>{(async()=>{var e;if(f(null),!(null==j||null==(e=j.user)?void 0:e.id))return;let t=await fetch("/api/users/".concat(j.user.id,"/card"));t.ok&&f(await t.json())})()},[null==j||null==(e=j.user)?void 0:e.id]);let b=e=>{var s;let{p:n}=e,a=(null==(s=n.user)?void 0:s.badges)&&n.user.badges[0];return a?(0,t.jsxs)("span",{title:"MVP Lv".concat(a.level),className:"ml-2 text-xs inline-flex items-center",children:["🏅 Lv",a.level]}):null};return(0,t.jsxs)("main",{className:"p-6 max-w-2xl mx-auto space-y-6",children:[(0,t.jsx)("h1",{className:"text-xl font-semibold",children:"Lobby"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Join to edit teams and lineup. Viewers can only see participants."}),(0,t.jsx)("section",{className:"space-y-3",children:(0,t.jsx)("ul",{className:"divide-y border rounded",children:h.map(e=>{var s,n;return(0,t.jsx)("li",{className:"p-2 flex justify-between items-center",children:(0,t.jsxs)("button",{onClick:()=>g(e),className:"text-left ".concat("owner"===e.role?"font-bold text-gray-900":""),children:[e.isGuest?e.guestName||"Guest Player":(null==(s=e.user)?void 0:s.displayName)||(null==(n=e.user)?void 0:n.handle),(0,t.jsx)(b,{p:e}),"owner"===e.role&&(0,t.jsx)("span",{className:"ml-1 text-xs text-gray-500",children:"(owner)"})]})},e.id)})})}),j&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center",onClick:()=>g(null),children:(0,t.jsxs)("div",{className:"bg-white text-black rounded p-4 w-80",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Player Profile Card"}),(0,t.jsx)("p",{className:"text-sm mb-2",children:j.isGuest?j.guestName||"Guest Player":(null==(l=j.user)?void 0:l.displayName)||(null==(i=j.user)?void 0:i.handle)}),!j.isGuest&&v&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Foot:"})," ",v.foot||"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Pace:"})," ",null!=(r=v.pace)?r:"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Shoot:"})," ",null!=(c=v.shoot)?c:"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Pass:"})," ",null!=(o=v.pass)?o:"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Defend:"})," ",null!=(d=v.defend)?d:"-"]})]}),(0,t.jsx)("button",{className:"mt-4 border px-3 py-1 rounded",onClick:()=>g(null),children:"Close"})]})})]})}}]);