module.exports=[7818,a=>{a.v(JSON.parse('{"name":"pusher","description":"Node.js client to interact with the Pusher Channels REST API","version":"5.2.0","author":"Pusher <support@pusher.com>","contributors":[{"name":"fabrik42","email":"fabrik42@gmail.com"},{"name":"Jaewoong Kim","email":"jwoongkim@gmail.com"},{"name":"Phil Leggetter","email":"phil@leggetter.co.uk"},{"name":"Paweł Ledwoń","email":"me@ludvik.pl"}],"dependencies":{"abort-controller":"^3.0.0","is-base64":"^1.1.0","node-fetch":"^2.6.1","tweetnacl":"^1.0.0","tweetnacl-util":"^0.15.0","@types/node-fetch":"^2.5.7"},"devDependencies":{"@types/node":"^14.14.6","eslint":"^7.11.0","expect.js":"=0.3.1","express":"^4.17.1","https-proxy-agent":"^5.0.0","mocha":"^7.2.0","nock":"^12.0.3","prettier":"2.1.2","sinon":"=1.10.2","webpack":"^4.42.1","webpack-cli":"^3.3.11"},"scripts":{"local-test":"npx mocha \'tests/integration/**/*.js\'","test":"npx mocha \'tests/{integration,remote}/**/*.js\'","lint":"npx eslint . && npx prettier --check .","format":"npx prettier --write ."},"keywords":["pusher","websockets","realtime"],"license":"MIT","repository":"git://github.com/pusher/pusher-http-node","main":"lib/pusher","typings":"index.d.ts","engines":{"node":">= 4.0.0"}}'))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},88947,(a,b,c)=>{b.exports=a.x("stream",()=>require("stream"))},874,(a,b,c)=>{b.exports=a.x("buffer",()=>require("buffer"))},49719,(a,b,c)=>{b.exports=a.x("assert",()=>require("assert"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},92509,(a,b,c)=>{b.exports=a.x("url",()=>require("url"))},21517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},24836,(a,b,c)=>{b.exports=a.x("https",()=>require("https"))},4446,(a,b,c)=>{b.exports=a.x("net",()=>require("net"))},55004,(a,b,c)=>{b.exports=a.x("tls",()=>require("tls"))},6461,(a,b,c)=>{b.exports=a.x("zlib",()=>require("zlib"))},22734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},50944,(a,b,c)=>{b.exports=a.r(74137)},44804,a=>{"use strict";a.s(["default",()=>f]);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(10705);function f(){let a=(0,d.useParams)(),[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(null);(0,c.useEffect)(()=>{let b=a?.code;if(!b)return;(async()=>{let a=await fetch(`/api/events?code=${encodeURIComponent(b)}`);if(!a.ok)return;let c=await a.json();g(c.id),i(await fetch(`/api/events/${c.id}/participants`).then(a=>a.json()))})();let c=()=>{};return(async()=>{let a=await fetch(`/api/events?code=${encodeURIComponent(b)}`).then(a=>a.json());c=(0,e.subscribe)(a.id,b=>{("participants_updated"===b.type||"flags_updated"===b.type)&&fetch(`/api/events/${a.id}/participants`).then(a=>a.json()).then(i)})})(),()=>c()},[a?.code]),(0,c.useEffect)(()=>{(async()=>{if(m(null),!j?.user?.id)return;let a=await fetch(`/api/users/${j.user.id}/card`);a.ok&&m(await a.json())})()},[j?.user?.id]);let n=({p:a})=>{let c=a.user?.badges&&a.user.badges[0];return c?(0,b.jsxs)("span",{title:`MVP Lv${c.level}`,className:"ml-2 text-xs inline-flex items-center",children:["🏅 Lv",c.level]}):null};return(0,b.jsxs)("main",{className:"p-6 max-w-2xl mx-auto space-y-6",children:[(0,b.jsx)("h1",{className:"text-xl font-semibold",children:"Lobby"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Join to edit teams and lineup. Viewers can only see participants."}),(0,b.jsx)("section",{className:"space-y-3",children:(0,b.jsx)("ul",{className:"divide-y border rounded",children:h.map(a=>(0,b.jsx)("li",{className:"p-2 flex justify-between items-center",children:(0,b.jsxs)("button",{onClick:()=>k(a),className:`text-left ${"owner"===a.role?"font-bold text-gray-900":""}`,children:[a.isGuest?a.guestName||"Guest Player":a.user?.displayName||a.user?.handle,(0,b.jsx)(n,{p:a}),"owner"===a.role&&(0,b.jsx)("span",{className:"ml-1 text-xs text-gray-500",children:"(owner)"})]})},a.id))})}),j&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center",onClick:()=>k(null),children:(0,b.jsxs)("div",{className:"bg-white text-black rounded p-4 w-80",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Player Profile Card"}),(0,b.jsx)("p",{className:"text-sm mb-2",children:j.isGuest?j.guestName||"Guest Player":j.user?.displayName||j.user?.handle}),!j.isGuest&&l&&(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Foot:"})," ",l.foot||"-"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Pace:"})," ",l.pace??"-"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Shoot:"})," ",l.shoot??"-"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Pass:"})," ",l.pass??"-"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Defend:"})," ",l.defend??"-"]})]}),(0,b.jsx)("button",{className:"mt-4 border px-3 py-1 rounded",onClick:()=>k(null),children:"Close"})]})})]})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__4e63bf82._.js.map