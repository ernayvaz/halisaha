{"version":3,"sources":["turbopack:///[project]/src/app/me/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function MePage() {\r\n  const [me, setMe] = useState<any>(null);\r\n  const [history, setHistory] = useState<any>(null);\r\n\r\n  useEffect(() => {\r\n    const run = async () => {\r\n      const m = await fetch('/api/me').then(r=>r.json());\r\n      if (m?.error) return;\r\n      setMe(m);\r\n      const h = await fetch('/api/me/history').then(r=>r.json());\r\n      setHistory(h);\r\n    };\r\n    run();\r\n  }, []);\r\n\r\n  if (!me) return <main className=\"p-6 max-w-3xl mx-auto\">Loading‚Ä¶</main>;\r\n\r\n  const initial = (me.displayName || me.handle || '?').slice(0,1).toUpperCase();\r\n\r\n  return (\r\n    <main className=\"p-6 max-w-3xl mx-auto space-y-6\">\r\n      <header className=\"flex items-center gap-3\">\r\n        <div className=\"w-10 h-10 rounded-full bg-green-600 text-white flex items-center justify-center text-lg font-bold\" aria-label=\"Profile avatar\">{initial}</div>\r\n        <div>\r\n          <h1 className=\"text-xl font-semibold\">{me.displayName} <span className=\"text-sm text-gray-500\">@{me.handle}</span></h1>\r\n          <div className=\"text-sm text-gray-600\">Foot: {me.foot || '-'} ‚Ä¢ Pace {me.pace??'-'} ‚Ä¢ Shoot {me.shoot??'-'} ‚Ä¢ Pass {me.pass??'-'} ‚Ä¢ Defend {me.defend??'-'}</div>\r\n        </div>\r\n      </header>\r\n\r\n      <section className=\"space-y-2\">\r\n        <h2 className=\"font-medium\">Badges</h2>\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          {(me.badges||[]).length===0 && <span className=\"text-sm text-gray-500\">No badges yet</span>}\r\n          {(me.badges||[]).map((b:any)=>(\r\n            <span key={b.id} className=\"inline-flex items-center gap-1 border rounded px-2 py-1 text-sm\">üèÖ MVP x{b.count} (Lv{b.level})</span>\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"space-y-2\">\r\n        <h2 className=\"font-medium\">Recent matches</h2>\r\n        {!history?.joined?.length && <p className=\"text-sm text-gray-500\">No joined events yet</p>}\r\n        <ul className=\"divide-y border rounded\">\r\n          {(history?.joined||[]).map((p:any)=>(\r\n            <li key={p.id} className=\"p-2 text-sm flex items-center justify-between\">\r\n              <div>\r\n                <div className=\"font-medium\">{p.event?.name || 'Pickup Game'} <span className=\"text-gray-500\">({p.event?.code})</span></div>\r\n                <div className=\"text-gray-500\">{p.event?.date || ''} {p.event?.startTime || ''}</div>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </section>\r\n\r\n      <section className=\"space-y-2\">\r\n        <h2 className=\"font-medium\">Recent snapshots</h2>\r\n        {!history?.snapshots?.length && <p className=\"text-sm text-gray-500\">No snapshots yet</p>}\r\n        <ul className=\"divide-y border rounded\">\r\n          {(history?.snapshots||[]).map((s:any)=>(\r\n            <li key={s.id} className=\"p-2 text-sm\">Event: {s.eventId} ‚Ä¢ {new Date(s.createdAt).toLocaleString()}</li>\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}